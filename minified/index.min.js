import{projects as e,blogs as t}from"../data/data.js";let contactForm=document.querySelector(".form-js"),closeModal=document.querySelector(".close-modal"),contactModal=document.querySelector(".contact-modal"),tabButtons=document.querySelectorAll(".tab-button"),slider=document.querySelector(".slider"),sliderCont=document.querySelector(".skills-list"),projectListCont=document.querySelector(".project-list"),blogListCont=document.querySelector(".blog-list");function getProjects(){if(0===e.length)document.querySelector(".projects-section").style.display="none";else{let t="";e.forEach(e=>{e.latest&&(t+=`
    <div class="project-card" data-projectid=${e.id}>
        <div class="project-cover"><img src="${e.image}" alt="${e.title}"></div>
        <h3 class="project-title">${e.title}</h3>
        <p class="project-description">${e.description}</p>
        <a href="project.html?project=${e.id}" >View project details <svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="m560-240-56-58 142-142H160v-80h486L504-662l56-58 240 240-240 240Z"/></svg></a>
    </div>

`)}),projectListCont.innerHTML=t,document.querySelectorAll(".project-card").forEach(e=>{e.addEventListener("click",t=>{let o=e.dataset.projectid;console.log(o),window.location.href="project.html?project="+o})})}}function getBlogs(){if(0===t.length)document.querySelector(".blog-section").style.display="none";else{let e="";t.forEach(t=>{e+=`
    <article class="blog" >
        <a href="${t.link}"><h4 class="blog-title">${t.title}.</h4></a>
        <p class="blog-date">${t.date}</p>
        <p class="blog-content-preview">${t.description}</p>
        <a href="${t.link}" class="button">Read More..</a>
    </article>

`}),blogListCont.innerHTML=e}}document.querySelector(".about-me-tab").classList.toggle("active"),document.querySelector(".copyright-date").innerText=new Date().getFullYear().toString(),getBlogs(),getProjects(),contactForm.addEventListener("submit",e=>{e.preventDefault();let t=new FormData(e.target);fetch(e.target.action,{method:"POST",headers:{Accept:"application/json"},body:t}).then(e=>{e.ok?(contactModal.querySelector("h4").innerText="Message sent!",contactModal.querySelector("p").innerText="Thank you for reaching out! I'll get back to you shortly.",contactModal.style.display="block",contactModal.setAttribute("aria-hidden","false")):(contactModal.querySelector("h4").innerText="Message failed to send!",contactModal.querySelector("p").innerText="It seems like there was a problem with the server. Please try again later.",contactModal.style.display="block"),contactForm.reset()}).catch(e=>{console.error("Network error:",e)})}),closeModal.addEventListener("click",function(){contactModal.style.display="none",contactModal.setAttribute("aria-hidden","true")}),tabButtons.forEach(e=>{e.addEventListener("click",function(){tabButtons.forEach(e=>{e.setAttribute("aria-selected","false"),e.classList.remove("active")}),e.classList.add("active"),e.setAttribute("aria-selected","true");let t=document.querySelector(`.${e.dataset.tabname}`);t.parentNode.querySelectorAll(".tab-content").forEach(e=>e.classList.remove("active")),t.classList.add("active")})});let threshold;threshold=window.innerWidth<=768?.3:.4;let observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(document.querySelectorAll("nav a").forEach(e=>{e.classList.remove("active")}),document.querySelectorAll("nav a").forEach(t=>{t.getAttribute("href")==="#"+e.target.getAttribute("id")&&t.classList.add("active")}))})},{threshold:threshold});document.querySelectorAll("section").forEach(e=>observer.observe(e));